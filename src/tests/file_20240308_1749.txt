Refactor api code

Date: 2024-03-08 17:49:07